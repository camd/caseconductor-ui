<!--
Case Conductor is a Test Case Management system.
Copyright (C) 2011 uTest Inc.

This file is part of Case Conductor.

Case Conductor is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

Case Conductor is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with Case Conductor.  If not, see <http://www.gnu.org/licenses/>.

-->
<details class="apicall {% if cachekey %}cached{% endif %}">
  <summary>
    <div class="wrap">
      <time>{{ time }}</time>
      <span class="method">{{ method }}</span>
      <span class="uri" title="{{ uri }}">{{ uri }}</span>
      <span class="status_code">{{ status_code }}</span>
      <span class="status">{{ status }}</span>
    </div>
  </summary>
  {% if cachekey %}
  <p class="cachekey">{{ cachekey }}</p>
  {% endif %}
  <details class="request">
    <summary>Request</summary>
    <details class="headers">
      <summary>Headers</summary>
      <dl>
        {% for header, value in request_headers.iteritems %}
        <dt>{{ header }}</dt><dd>{{ value }}</dd>
        {% endfor %}
      </dl>
    </details>
    {% if request_body %}
    <pre>{{ request_body }}</pre>
    {% endif %}
  </details>
  <details class="response">
    <summary>Response</summary>
    <details class="headers">
      <summary>Headers</summary>
      <dl>
        {% for header, value in response_headers.iteritems %}
        <dt>{{ header }}</dt><dd>{{ value }}</dd>
        {% endfor %}
      </dl>
    </details>
    {% if response_body %}
    <pre>{{ response_body }}</pre>
    {% endif %}
  </details>
</details>
