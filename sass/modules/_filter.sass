// Case Conductor is a Test Case Management system.
// Copyright (C) 2011 uTest Inc.
// 
// This file is part of Case Conductor.
// 
// Case Conductor is free software: you can redistribute it and/or modify
// it under the terms of the GNU General Public License as published by
// the Free Software Foundation, either version 3 of the License, or
// (at your option) any later version.
// 
// Case Conductor is distributed in the hope that it will be useful,
// but WITHOUT ANY WARRANTY; without even the implied warranty of
// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
// GNU General Public License for more details.
// 
// You should have received a copy of the GNU General Public License
// along with Case Conductor.  If not, see <http://www.gnu.org/licenses/>.
// Mixins --------------------------------------------------------------------

=colorwheel($select)
  @for $i from 1 through 24
    &:nth-of-type(24n-#{$i})
      #{$select}
        $deg: ($i - 1)*15deg
        background-color: adjust-hue($green-lightest,$deg)

/* Filtering -----------------------------------------------------------------

.suggest
  +no-style-list
  +border-bottom-radius
  +box-shadow(rgba($blue-dark,$small) 0 .25em .5em)
  display: none
  position: absolute
  left: 0
  right: 0
  top: rhythm(1.5)
  background: #fff
  z-index: 900
  border: 1px solid $mid
    width: 0 1px 1px
  a
    #{$link}
      +padding-leader(.25)
      +trailing-border(1px,.25)
      +clearfix
      +hpadding(1em)
      display: block
      color: $base
      border-bottom: 1px solid $light
      &.selected
        background: rgba($yellow-light,$xsmall)
        outline: 0
  li:last-child
    a
      #{$link}
        border-bottom: none
  i
    +float(right)
    padding-left: 1em
    font-style: normal
    color: $mid

.textual
  position: relative
  label
    +gone

.togglelist
  input, label
    display: none
  li
    +float(left)
  input:checked + label
    +trailer(.5,12px)
    +border-radius
    +box-shadow(rgba($blue,$xxsmall) 0 1px 1px)
    +demi
    display: block
    margin-right: .5em
    padding: rhythm(.125,12px) rhythm(.25,12px)
      left: image-width('ui/check_sm.png') + 6px
    background: $green-lightest image-url('ui/check_sm.png') no-repeat scroll 3px
    &:hover
      background-image: image-url('ui/x_sm.png')

.groupheader
  @extend .allcaps
  +cond
  margin: 0
  padding: 0 .25em
  background: rgba($light,.5)

#filter
  ul
    +no-style-list

  .form-actions
    @extend .warningmessage
    +adjust-font-size-to(14px,1,12px)
    +border-bottom-radius(0)
    +text-shadow($yellow-light 0 1px 0)
    display: none
    clear: both
    margin: 0
    background-color: rgba($yellow-darker,$small)
    text-align: left
    color: $base
    a
      #{$link}
        color: $blue-dark
      #{$focus}
        color: $red-dark
    p
      margin: 0
      &::before
        +padding-leader(.25)
        +padding-trailer(.25)

  button
    +button-color($green,'ui/refresh.png')

  // Textual -----------------------------------------------------------------

  .textual
    +columns(12,24)
    +trailer(.5)
    input
      +full(12)
      margin: 0

  // Visual ------------------------------------------------------------------

  h5
    @extend .groupheader

  .toggle
    +columns(6,24)
    +leader(.25)
    +italic
    text-transform: lowercase
    a
      #{$link}
        display: block

  .content
    +full(24)
    +adjust-font-size-to(12px,.75)
    +pie-clearfix

  small
    +inline-block
    min-width: image-width('ui/x_sm.png')
    color: $mid
    vertical-align: baseline

  // Compact --------------------------------------------------------------
  .compact
    @extend .togglelist
    .toggle
      a
        #{$link}
          &::before
            content: "show "
          &::after
            content: " »"
    .filter-group
      +colorwheel(label)
    .long
      height: auto !important
    h5
      display: none

  // Expanded --------------------------------------------------------------

  .expanded
    .toggle
      a
        #{$link}
          &::before
            content: "« hide "
          &::after
            content: ""
    .content
      .filter-group
        +columns(3,24)
        +trailer(.5)
        &.empty
          display: none
        &:nth-of-type(8n)
          +omega(24)
        &:nth-of-type(8n+1)
          clear: left
        +colorwheel(h5)
    .long
      overflow: hidden
      height: rhythm(5,12px)
      min-height: rhythm(5,12px)
      max-height: rhythm(24,12px)
      border-bottom: 1px solid rgba($blue,$small)
      resize: vertical
      &:hover
        overflow-y: auto
    input[type='checkbox']
      display: none
    label
      +sans-family
      +opacity($small)
      display: block
      padding: rhythm(.125) rhythm(.25)
        left: image-width('ui/check_sm.png') + 6px
      background: image-url('ui/plus_sm.png') no-repeat scroll 3px
      font-weight: normal
      &:hover
        +demi
    small
      +float(right)
    input:checked + label
      +opacity(1)
      +demi
      background-image: image-url('ui/check_sm.png')
      &:hover
        background-image: image-url('ui/x_sm.png')
    input[type="text"]
      +adjust-input-size-to(12px,.75)
      +leader(.25,12px)
