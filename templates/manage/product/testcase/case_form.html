<!--
Case Conductor is a Test Case Management system.
Copyright (C) 2011 uTest Inc.

This file is part of Case Conductor.

Case Conductor is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

Case Conductor is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with Case Conductor.  If not, see <http://www.gnu.org/licenses/>.

-->
{% extends 'manage/product/testcase/base.html' %}

{% block page-notes %}
<li>Missing new environment constraints UI.</li>
<li>Can't add to suite when adding/editing (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=670160">platform limitation</a>).</li>
<li>tagging and attachments are only wireframed</li>
{% endblock %}

{% block listcontent %}
<section id="addcase">
  <h2>{% block formtitle %}{% endblock formtitle %}</h2>

  {% block caseforms %}
    {% include "manage/product/testcase/_case_form_edit.html" %}
  {% endblock caseforms %}

</section>
{% endblock listcontent %}

{% block extrajs %}
<script>
  $(
      function() {
          $('ol.steplist').formset(
              {
                  prefix: '{{ single_form.steps_formset.prefix }}',
                  formTemplate: '#empty-step-form > li',
                  formSelector: '.steps-form',
                  deleteLink: '<a class="removefields" href="javascript:void(0)">remove</a>',
                  deleteLinkSelector: '.removefields',
                  addAnimationSpeed: 'normal',
                  removeAnimationSpeed: 'fast',
                  autoAdd: true,
                  alwaysShowExtra: true,
                  deleteOnlyActive: true,
                  insertAbove: true
              });
      });

</script>
{% endblock %}

{% block last %}
<div style="display: none;">
  <ul id="empty-step-form" class="empty-form">
    {% include "manage/product/testcase/_step_form.html" with form=single_form.steps_formset.empty_form %}
  </ul>
</div>
{% endblock %}
