<!--
Case Conductor is a Test Case Management system.
Copyright (C) 2011 uTest Inc.

This file is part of Case Conductor.

Case Conductor is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

Case Conductor is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with Case Conductor.  If not, see <http://www.gnu.org/licenses/>.

-->
{% extends 'manage/product/testcycle/base.html' %}

{% block page-notes %}
<p>Missing new environment constraints UI.</p>
<p>"Assign specific users" has a richer UI on the way, with search.</p>
{% endblock %}

{% block listcontent %}
<section id="addcycle">
  <h2>{% block formtitle %}{% endblock %}</h2>
  <a {# @@@ needs URL #} href="/manage/type/id/environments/" class="select-env-link">select environments</a>
  <form id="cycle-form" method="POST">
    {% csrf_token %}
    {{ form.non_field_errors }}
    <ul class="basic">
      <li>
        {{ form.name.errors }}
        {{ form.name.label_tag }}
        {{ form.name }}
      </li>
      <li>
        {{ form.product.errors }}
        {{ form.product.label_tag }}
        {{ form.product }}
      </li>
      <li>
        {{ form.description.errors }}
        {{ form.description.label_tag }}
        {{ form.description }}
      </li>
      <li class="date-fields">
        <ul>
          <li class="date">
            {{ form.start_date.errors }}
            {{ form.start_date.label_tag }}
            {{ form.start_date }}
            <span class="fieldnote">yyyy-mm-dd</span>
          </li>
          <li class="date">
            {{ form.end_date.errors }}
            {{ form.end_date.label_tag }}
            {{ form.end_date }}
            <span class="fieldnote">yyyy-mm-dd</span>
          </li>
        </ul>
      </li>
    </ul>

    {% block midform %}{% endblock %}

    <section class="userselect details{% if form.team.errors or form.team.value %} open{% endif %}">
      <h3 class="summary">assign specific users to this test cycle &raquo;</h3>
      <div>
        {# @@@ needs the slick multiple-select widget #}
        {{ form.team.errors }}
        {{ form.team.label_tag }}
        {{ form.team }}
      </div>
    </section>

    <div class="form-actions">
      <button type="submit">save test cycle</button>
    </div>

  </form>

</section>
{% endblock listcontent %}
