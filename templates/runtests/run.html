<!--
Case Conductor is a Test Case Management system.
Copyright (C) 2011 uTest Inc.

This file is part of Case Conductor.

Case Conductor is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

Case Conductor is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with Case Conductor.  If not, see <http://www.gnu.org/licenses/>.

-->
{% extends 'runtests/base.html' %}
{% load execution environment sort icanhaz %}

{% block test-subnav %}
<li><a href="{% url runtests %}">Run Tests</a></li>
<li><a href="#" class="breadcrumb" data-id="{{ product.api_name }}-{{ product.id }}">{{ product }}</a></li>
<li><a href="#" class="breadcrumb" data-id="{{ cycle.api_name }}-{{ cycle.id }}">{{ cycle }}</a></li>
<li><a href="#" class="breadcrumb" data-id="{{ testrun.api_name }}-{{ testrun.id }}">{{ testrun }}</a></li>
<li>
  <ul class="envsettings">
    {% for env in request.environments %}
    <li>{{ env.name }}</li>
    {% endfor %}
  </ul>
</li>
{% endblock test-subnav %}

{% block drilldown %}
  <nav class="drilldown details">
    <h2 class="summary" title="show/hide drilldown navigation">DrillDown Navigation</h2>
    <div class="content">
      <section class="selectruns">
        <h3 class="sectionhead">Select a product, cycle and run</h3>
        {% include "runtests/finder/_finder.html" %}
      </section>

      <section class="environment">
        {% include "runtests/_environment_form.html" with object=testrun %}
      </section>
    </div>
  </nav>
{% endblock drilldown %}

{% block testcontent %}
  <section id="run">
    <h2>Run Tests:</h2>

    {% icanhaz "runtests_form_error" %}

    <div class="managelist action-ajax-replace">
      <nav class="listordering">
        <h3 class="navhead">List Ordering</h3>
        <ul>
          <li class="bystatus">
            <a href="#">status</a>
          </li>
          <li class="bytitle">
            <a href="#">name</a>
          </li>
          <li class="byinvalid">
            <span>flagging</span>
          </li>
        </ul>
      </nav>

      <div class="items">
        {% for includedtestcase in testrun.includedtestcases %}
          {% run_case includedtestcase request.user request.environments %}
        {% empty %}
          <p class="empty">There are currently no items in this list...</p>
        {% endfor %}
      </div>

      {% include "lists/_listnav.html" %}
    </div>
  </section>
{% endblock testcontent %}
